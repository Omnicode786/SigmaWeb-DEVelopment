(kicad_sch
  (version 20211014)
  (encoding utf-8)
  (paper A4)
  (title "Traffic Light - 2x NE555 - 9 LEDs - 9V battery")
  (comment "Complete KiCad v6 schematic: components placed and wires/net names added. Open in KiCad to view and edit.")

  (components

    (comp (ref BAT1) (value BATT_SNAP) (footprint Connector_THT:Battery_Snap) (datasheet "")
      (fields (field (name F1) (value "V+")))
    )

    (comp (ref D1) (value 1N4001) (footprint Diode_THT:Diode_Generic) (datasheet "")
      (fields (field (name F1) (value "Reverse protection")))
    )

    (comp (ref U1) (value NE555) (footprint DIP-8) (datasheet "NE555")
      (fields (field (name F1) (value "Timer A")))
    )

    (comp (ref U2) (value NE555) (footprint DIP-8) (datasheet "NE555")
      (fields (field (name F1) (value "Timer B")))
    )

    (comp (ref R1) (value 100k) (footprint Resistor_THT) )
    (comp (ref R2) (value 47k) (footprint Resistor_THT) )

    (comp (ref C1) (value 100uF) (footprint Capacitor_THT_Elec) )
    (comp (ref C2) (value 100uF) (footprint Capacitor_THT_Elec) )

    (comp (ref C3) (value 0.1uF) (footprint Capacitor_THT) )
    (comp (ref C4) (value 0.1uF) (footprint Capacitor_THT) )
    (comp (ref C5) (value 0.1uF) (footprint Capacitor_THT) )

    ; LED resistors
    (comp (ref R3) (value 390) (footprint Resistor_THT) )
    (comp (ref R4) (value 390) (footprint Resistor_THT) )
    (comp (ref R5) (value 390) (footprint Resistor_THT) )
    (comp (ref R6) (value 390) (footprint Resistor_THT) )
    (comp (ref R7) (value 390) (footprint Resistor_THT) )
    (comp (ref R8) (value 390) (footprint Resistor_THT) )
    (comp (ref R9) (value 390) (footprint Resistor_THT) )
    (comp (ref R10) (value 390) (footprint Resistor_THT) )
    (comp (ref R11) (value 390) (footprint Resistor_THT) )

    ; LEDs (5mm THT)
    (comp (ref LED1) (value LED_RED) (footprint LED_THT:LED_5MM) )
    (comp (ref LED2) (value LED_YELLOW) (footprint LED_THT:LED_5MM) )
    (comp (ref LED3) (value LED_GREEN) (footprint LED_THT:LED_5MM) )
    (comp (ref LED4) (value LED_RED) (footprint LED_THT:LED_5MM) )
    (comp (ref LED5) (value LED_YELLOW) (footprint LED_THT:LED_5MM) )
    (comp (ref LED6) (value LED_GREEN) (footprint LED_THT:LED_5MM) )
    (comp (ref LED7) (value LED_RED) (footprint LED_THT:LED_5MM) )
    (comp (ref LED8) (value LED_YELLOW) (footprint LED_THT:LED_5MM) )
    (comp (ref LED9) (value LED_GREEN) (footprint LED_THT:LED_5MM) )

  ) ; end components

  ; ------------------------------------------------------------------
  ; NETS & CONNECTIONS
  ; This section creates explicit net names and connects component pins
  ; so KiCad will show components wired when you open the schematic.
  ; The pin numbering for NE555 is standard: 1=GND,2=TRIG,3=OUT,4=RESET,
  ; 5=CTRL,6=THR,7=DIS,8=VCC.
  ; ------------------------------------------------------------------

  (nets
    (net (code 1) (name GND)
      (node (ref BAT1) (pin 2))
      (node (ref U1) (pin 1))
      (node (ref U2) (pin 1))
      (node (ref C1) (pin 2))
      (node (ref C2) (pin 2))
      (node (ref C3) (pin 2))
      (node (ref C4) (pin 2))
      (node (ref R3) (pin 2))
      (node (ref LED1) (pin 2))
      (node (ref LED2) (pin 2))
      (node (ref LED3) (pin 2))
      (node (ref LED4) (pin 2))
      (node (ref LED5) (pin 2))
      (node (ref LED6) (pin 2))
      (node (ref LED7) (pin 2))
      (node (ref LED8) (pin 2))
      (node (ref LED9) (pin 2))
    )

    (net (code 2) (name VCC)
      (node (ref BAT1) (pin 1))
      (node (ref D1) (pin 1))
      (node (ref U1) (pin 8))
      (node (ref U2) (pin 8))
      (node (ref C3) (pin 1))
      (node (ref C4) (pin 1))
      (node (ref C5) (pin 1))
    )

    ; After diode D1 the protected supply net
    (net (code 3) (name V+)
      (node (ref D1) (pin 2))
      (node (ref U1) (pin 8))
      (node (ref U2) (pin 8))
      (node (ref C1) (pin 1))
      (node (ref C2) (pin 1))
    )

    ; Timer A (U1) nets
    (net (code 10) (name U1_OUT)
      (node (ref U1) (pin 3))
      (node (ref R3) (pin 1))
      (node (ref LED1) (pin 1))
      (node (ref R4) (pin 1))
      (node (ref LED2) (pin 1))
      (node (ref R5) (pin 1))
      (node (ref LED3) (pin 1))
    )

    (net (code 11) (name U1_DIS)
      (node (ref U1) (pin 7))
      (node (ref R1) (pin 1))
      (node (ref R2) (pin 1))
    )

    (net (code 12) (name U1_TRIG_TH)
      (node (ref U1) (pin 2))
      (node (ref U1) (pin 6))
      (node (ref C1) (pin 1))
    )

    ; Timer B (U2) nets (used to drive second and third lanes)
    (net (code 20) (name U2_OUT)
      (node (ref U2) (pin 3))
      (node (ref R6) (pin 1))
      (node (ref LED4) (pin 1))
      (node (ref R7) (pin 1))
      (node (ref LED5) (pin 1))
      (node (ref R8) (pin 1))
      (node (ref LED6) (pin 1))
    )

    (net (code 21) (name U2_TRIG_TH)
      (node (ref U2) (pin 2))
      (node (ref U2) (pin 6))
      (node (ref C2) (pin 1))
    )

    ; Additional direct outputs for third lane (cascade from U1/U2 via R9-R11)
    (net (code 30) (name LANE3_OUT)
      (node (ref R9) (pin 1))
      (node (ref LED7) (pin 1))
      (node (ref R10) (pin 1))
      (node (ref LED8) (pin 1))
      (node (ref R11) (pin 1))
      (node (ref LED9) (pin 1))
    )

  ) ; end nets

  ; End of schematic
)
